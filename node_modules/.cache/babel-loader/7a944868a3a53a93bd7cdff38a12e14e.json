{"ast":null,"code":"var _jsxFileName = \"/home/coelho/Projetos-Trybe/Projetos-Turma23A/sd-023-a-project-trivia-react-redux/src/Pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport fetchToken from '../helpers/triviaApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      nameInput: '',\n      emailInput: '',\n      isDisabled: true\n    };\n\n    this.redirectToSettings = () => {\n      const {\n        history\n      } = this.props;\n      history.push('/settings');\n    };\n\n    this.fetchButtonSubmit = async event => {\n      const {\n        history\n      } = this.props;\n      event.preventDefault();\n      const response = await fetchToken();\n      localStorage.setItem('token', response.token);\n      history.push('/game');\n    };\n\n    this.checkButton = () => {\n      const {\n        nameInput,\n        emailInput\n      } = this.state;\n      const validator = /^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,6})+$/;\n      const check = [nameInput.length > 0, emailInput.length > 0, validator.test(emailInput)];\n\n      if (check.every(item => item === true)) {\n        this.setState({\n          isDisabled: false\n        });\n      } else {\n        this.setState({\n          isDisabled: true\n        });\n      }\n    };\n\n    this.changeHandler = _ref => {\n      let {\n        target\n      } = _ref;\n      this.setState({\n        [target.name]: target.value\n      }, this.checkButton);\n    };\n  }\n\n  render() {\n    const {\n      nameInput,\n      emailInput,\n      isDisabled\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"btn-settings\",\n        onClick: this.redirectToSettings,\n        children: \"Configura\\xE7\\xF5es\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"nameInput\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Nome\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"nameInput\",\n            id: \"nameInput\",\n            value: nameInput,\n            \"data-testid\": \"input-player-name\",\n            onChange: this.changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"emailInput\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"emailInput\",\n            id: \"emailInput\",\n            value: emailInput,\n            \"data-testid\": \"input-gravatar-email\",\n            onChange: this.changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          \"data-testid\": \"btn-play\",\n          disabled: isDisabled,\n          onClick: this.fetchButtonSubmit,\n          children: \"Play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired\n};","map":{"version":3,"names":["React","Component","PropTypes","fetchToken","Login","state","nameInput","emailInput","isDisabled","redirectToSettings","history","props","push","fetchButtonSubmit","event","preventDefault","response","localStorage","setItem","token","checkButton","validator","check","length","test","every","item","setState","changeHandler","target","name","value","render","propTypes","shape","func","isRequired"],"sources":["/home/coelho/Projetos-Trybe/Projetos-Turma23A/sd-023-a-project-trivia-react-redux/src/Pages/Login.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport fetchToken from '../helpers/triviaApi';\n\nexport default class Login extends Component {\n  state = {\n    nameInput: '',\n    emailInput: '',\n    isDisabled: true,\n  };\n\n  redirectToSettings = () => {\n    const { history } = this.props;\n    history.push('/settings');\n  };\n\n  fetchButtonSubmit = async (event) => {\n    const { history } = this.props;\n    event.preventDefault();\n    const response = await fetchToken();\n    localStorage.setItem('token', response.token);\n    history.push('/game');\n  };\n\n  checkButton = () => {\n    const { nameInput, emailInput } = this.state;\n    const validator = /^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,6})+$/;\n\n    const check = [\n      nameInput.length > 0,\n      emailInput.length > 0,\n      validator.test(emailInput),\n    ];\n\n    if (check.every((item) => item === true)) {\n      this.setState({ isDisabled: false });\n    } else {\n      this.setState({ isDisabled: true });\n    }\n  };\n\n  changeHandler = ({ target }) => {\n    this.setState({ [target.name]: target.value }, this.checkButton);\n  };\n\n  render() {\n    const { nameInput, emailInput, isDisabled } = this.state;\n    return (\n      <div>\n        <button\n          type=\"button\"\n          data-testid=\"btn-settings\"\n          onClick={ this.redirectToSettings }\n        >\n          Configurações\n        </button>\n        <form className=\"login-container\">\n          <label htmlFor=\"nameInput\">\n            <p>Nome</p>\n            <input\n              type=\"text\"\n              name=\"nameInput\"\n              id=\"nameInput\"\n              value={ nameInput }\n              data-testid=\"input-player-name\"\n              onChange={ this.changeHandler }\n            />\n          </label>\n          <label htmlFor=\"emailInput\">\n            <p>Email</p>\n            <input\n              type=\"text\"\n              name=\"emailInput\"\n              id=\"emailInput\"\n              value={ emailInput }\n              data-testid=\"input-gravatar-email\"\n              onChange={ this.changeHandler }\n            />\n          </label>\n          <button\n            type=\"submit\"\n            data-testid=\"btn-play\"\n            disabled={ isDisabled }\n            onClick={ this.fetchButtonSubmit }\n          >\n            Play\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}