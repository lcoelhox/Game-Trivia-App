{"ast":null,"code":"var _jsxFileName = \"/home/coelho/Projetos-Trybe/Projetos-Turma23A/sd-023-a-project-trivia-react-redux/src/Pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport fetchToken from '../helpers/triviaApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      nameInput: '',\n      emailInput: '',\n      isDisabled: true\n    };\n\n    this.fetchButtonSubmit = async event => {\n      const {\n        history\n      } = this.props;\n      event.preventDefault();\n      const response = await fetchToken();\n      localStorage.setItem('token', response.token);\n      history.push('/game');\n    };\n\n    this.checkButton = () => {\n      const {\n        nameInput,\n        emailInput\n      } = this.state;\n      const validator = /^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,6})+$/;\n      const check = [nameInput.length > 0, emailInput.length > 0, validator.test(emailInput)];\n\n      if (check.every(item => item === true)) {\n        this.setState({\n          isDisabled: false\n        });\n      } else {\n        this.setState({\n          isDisabled: true\n        });\n      }\n    };\n\n    this.changeHandler = _ref => {\n      let {\n        target\n      } = _ref;\n      this.setState({\n        [target.name]: target.value\n      }, this.checkButton);\n    };\n  }\n\n  render() {\n    const {\n      nameInput,\n      emailInput,\n      isDisabled\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"nameInput\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Nome\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"nameInput\",\n            id: \"nameInput\",\n            value: nameInput,\n            \"data-testid\": \"input-player-name\",\n            onChange: this.changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"emailInput\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"emailInput\",\n            id: \"emailInput\",\n            value: emailInput,\n            \"data-testid\": \"input-gravatar-email\",\n            onChange: this.changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          \"data-testid\": \"btn-play\",\n          disabled: isDisabled,\n          onClick: this.fetchButtonSubmit,\n          children: \"Play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired\n};","map":{"version":3,"names":["React","Component","PropTypes","fetchToken","Login","state","nameInput","emailInput","isDisabled","fetchButtonSubmit","event","history","props","preventDefault","response","localStorage","setItem","token","push","checkButton","validator","check","length","test","every","item","setState","changeHandler","target","name","value","render","propTypes","shape","func","isRequired"],"sources":["/home/coelho/Projetos-Trybe/Projetos-Turma23A/sd-023-a-project-trivia-react-redux/src/Pages/Login.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport fetchToken from '../helpers/triviaApi';\n\nexport default class Login extends Component {\n  state = {\n    nameInput: '',\n    emailInput: '',\n    isDisabled: true,\n  };\n\n  fetchButtonSubmit = async (event) => {\n    const { history } = this.props;\n    event.preventDefault();\n    const response = await fetchToken();\n    localStorage.setItem('token', response.token);\n    history.push('/game');\n  };\n\n  checkButton = () => {\n    const { nameInput, emailInput } = this.state;\n    const validator = /^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,6})+$/;\n\n    const check = [\n      nameInput.length > 0,\n      emailInput.length > 0,\n      validator.test(emailInput),\n    ];\n\n    if (check.every((item) => item === true)) {\n      this.setState({ isDisabled: false });\n    } else {\n      this.setState({ isDisabled: true });\n    }\n  };\n\n  changeHandler = ({ target }) => {\n    this.setState({ [target.name]: target.value }, this.checkButton);\n  };\n\n  render() {\n    const { nameInput, emailInput, isDisabled } = this.state;\n    return (\n      <div>\n        <form className=\"login-container\">\n          <label htmlFor=\"nameInput\">\n            <p>Nome</p>\n            <input\n              type=\"text\"\n              name=\"nameInput\"\n              id=\"nameInput\"\n              value={ nameInput }\n              data-testid=\"input-player-name\"\n              onChange={ this.changeHandler }\n            />\n          </label>\n          <label htmlFor=\"emailInput\">\n            <p>Email</p>\n            <input\n              type=\"text\"\n              name=\"emailInput\"\n              id=\"emailInput\"\n              value={ emailInput }\n              data-testid=\"input-gravatar-email\"\n              onChange={ this.changeHandler }\n            />\n          </label>\n          <button\n            type=\"submit\"\n            data-testid=\"btn-play\"\n            disabled={ isDisabled }\n            onClick={ this.fetchButtonSubmit }\n          >\n            Play\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}