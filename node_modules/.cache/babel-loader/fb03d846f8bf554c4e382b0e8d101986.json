{"ast":null,"code":"var _jsxFileName = \"/home/coelho/Projetos-Trybe/Projetos-Turma23A/sd-023-a-project-trivia-react-redux/src/Pages/Feedback.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Header from '../components/Header';\nimport { newGame } from '../redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Feedback extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.handlePlayAgainClick = () => {\n      const {\n        history,\n        dispatch\n      } = this.props;\n      dispatch(newGame());\n      history.push('/');\n    };\n\n    this.handleRankingClick = () => {\n      const {\n        history\n      } = this.props;\n      history.push('/ranking');\n    };\n\n    this.saveToRanking = player => {\n      const currentRanking = JSON.parse(localStorage.getItem('ranking'));\n      localStorage.setItem('ranking', JSON.stringify([...(currentRanking || []), player]));\n    };\n  }\n\n  componentDidMount() {\n    const {\n      user,\n      player\n    } = this.props;\n    this.saveToRanking({\n      name: user.name,\n      score: player.score,\n      picture: user.gravatar\n    });\n  }\n\n  render() {\n    const {\n      player\n    } = this.props;\n    const goodScore = 3;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"feedback-page\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"pagina de feedback\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        \"data-testid\": \"feedback-total-score\",\n        children: player.score\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"feedback-text\",\n        children: player.assertions < goodScore ? 'Could be better...' : 'Well Done!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: 'Acertou: '\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"feedback-total-question\",\n        children: player.assertions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        \"data-testid\": \"btn-play-again\",\n        onClick: this.handlePlayAgainClick,\n        children: \"Play Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        \"data-testid\": \"btn-ranking\",\n        type: \"submit\",\n        onClick: this.handleRankingClick,\n        children: \"Ranking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nFeedback.propTypes = {\n  player: PropTypes.shape({\n    score: PropTypes.number.isRequired,\n    assertions: PropTypes.number.isRequired\n  }).isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired,\n  user: PropTypes.shape({\n    gravatar: PropTypes.string,\n    name: PropTypes.string\n  }).isRequired,\n  dispatch: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = _ref => {\n  let {\n    player,\n    user\n  } = _ref;\n  return {\n    player,\n    user\n  };\n};\n\nexport default connect(mapStateToProps)(Feedback);","map":{"version":3,"names":["React","PropTypes","connect","Header","newGame","Feedback","Component","handlePlayAgainClick","history","dispatch","props","push","handleRankingClick","saveToRanking","player","currentRanking","JSON","parse","localStorage","getItem","setItem","stringify","componentDidMount","user","name","score","picture","gravatar","render","goodScore","assertions","propTypes","shape","number","isRequired","func","string","mapStateToProps"],"sources":["/home/coelho/Projetos-Trybe/Projetos-Turma23A/sd-023-a-project-trivia-react-redux/src/Pages/Feedback.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Header from '../components/Header';\nimport { newGame } from '../redux/actions';\n\nclass Feedback extends React.Component {\n  componentDidMount() {\n    const { user, player } = this.props;\n    this.saveToRanking({\n      name: user.name,\n      score: player.score,\n      picture: user.gravatar,\n    });\n  }\n\n  handlePlayAgainClick = () => {\n    const { history, dispatch } = this.props;\n    dispatch(newGame());\n    history.push('/');\n  };\n\n  handleRankingClick = () => {\n    const { history } = this.props;\n    history.push('/ranking');\n  };\n\n  saveToRanking = (player) => {\n    const currentRanking = JSON.parse(localStorage.getItem('ranking'));\n    localStorage.setItem('ranking', JSON.stringify([...currentRanking || [], player]));\n  };\n\n  render() {\n    const { player } = this.props;\n    const goodScore = 3;\n    return (\n      <div data-testid=\"feedback-page\">\n        <Header />\n        <h1>pagina de feedback</h1>\n        <h3 data-testid=\"feedback-total-score\">{player.score}</h3>\n        <p data-testid=\"feedback-text\">\n          { player.assertions < goodScore ? 'Could be better...' : 'Well Done!' }\n        </p>\n        <p>\n          {'Acertou: '}\n        </p>\n        <p data-testid=\"feedback-total-question\">{player.assertions}</p>\n        <button\n          type=\"submit\"\n          data-testid=\"btn-play-again\"\n          onClick={ this.handlePlayAgainClick }\n        >\n          Play Again\n        </button>\n        <button\n          data-testid=\"btn-ranking\"\n          type=\"submit\"\n          onClick={ this.handleRankingClick }\n        >\n          Ranking\n        </button>\n      </div>\n    );\n  }\n}\n\nFeedback.propTypes = {\n  player: PropTypes.shape({\n    score: PropTypes.number.isRequired,\n    assertions: PropTypes.number.isRequired,\n  }).isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  user: PropTypes.shape({\n    gravatar: PropTypes.string,\n    name: PropTypes.string,\n  }).isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = ({ player, user }) => ({\n  player,\n  user,\n});\n\nexport default connect(mapStateToProps)(Feedback);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}